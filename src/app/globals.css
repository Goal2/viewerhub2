/* ------------------------------------------------------------------
   Tailwind
------------------------------------------------------------------ */
@tailwind base;
@tailwind components;
@tailwind utilities;

/* ------------------------------------------------------------------
   Variables & base
------------------------------------------------------------------ */
:root{
  --bg: #0a0c10;
  --text: #e5e7eb;
  --panel: rgba(255,255,255,.04);
  --panel-border: rgba(255,255,255,.10);
  --brand: #9146ff;          /* violet Twitch-like */
  --brand2: #7c4dff;
  --cyan: #22d3ee;
}

html, body{
  height: 100%;
  background: var(--bg);
  color: var(--text);
}

body{
  overflow-x: hidden;
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
}

a{ color: inherit; text-decoration: none; }
*{ -webkit-tap-highlight-color: transparent; }

/* Focus visible “soft” */
:focus-visible{
  outline: none;
  box-shadow: 0 0 0 3px color-mix(in oklab, var(--brand) 45%, transparent);
  border-radius: .75rem;
}

/* ------------------------------------------------------------------
   HALOS — couche unique fixe (évite tout “carré” autour)
   Place automatiquement au dessus du <body> dans layout.tsx
------------------------------------------------------------------ */
.vh-halos{
  position: fixed;
  inset: -30vmax;          /* déborde largement => pas de bord coupé */
  z-index: 0;
  pointer-events: none;
  filter: blur(42px) saturate(120%);
  opacity: .9;

  /* positions animées via CSS variables */
  --x1: 14%; --y1: 18%;
  --x2: 86%; --y2: 22%;
  --x3: 62%; --y3: 78%;

  background:
    radial-gradient(56vmax 56vmax at var(--x1) var(--y1),
      color-mix(in oklab, var(--brand) 70%, transparent) 0%,
      transparent 60%),
    radial-gradient(64vmax 64vmax at var(--x2) var(--y2),
      color-mix(in oklab, var(--cyan) 55%, transparent) 0%,
      transparent 62%),
    radial-gradient(48vmax 48vmax at var(--x3) var(--y3),
      color-mix(in oklab, var(--brand2) 40%, transparent) 0%,
      transparent 62%);

  animation: vh-halos-drift 38s ease-in-out infinite alternate;
}

@keyframes vh-halos-drift {
  0%   { --x1: 14%; --y1: 18%; --x2: 86%; --y2: 22%; --x3: 62%; --y3: 78%; }
  40%  { --x1: 22%; --y1: 28%; --x2: 80%; --y2: 26%; --x3: 70%; --y3: 74%; }
  70%  { --x1: 18%; --y1: 22%; --x2: 78%; --y2: 34%; --x3: 58%; --y3: 82%; }
  100% { --x1: 26%; --y1: 16%; --x2: 74%; --y2: 20%; --x3: 64%; --y3: 68%; }
}

/* ------------------------------------------------------------------
   “Glass panels” & borders (utilitaires réutilisables)
------------------------------------------------------------------ */
.glass{
  background:
    radial-gradient(130% 140% at 0% 0%,
      color-mix(in oklab, var(--brand) 16%, transparent), transparent 40%),
    radial-gradient(130% 140% at 100% 0%,
      color-mix(in oklab, var(--cyan) 12%, transparent), transparent 42%),
    var(--panel);
  border: 1px solid var(--panel-border);
  border-radius: 16px;
  backdrop-filter: blur(4px);
}

.card-border{
  position: relative;
  border-radius: 16px;
}
.card-border::before{
  content: "";
  position: absolute; inset: 0;
  border-radius: inherit;
  padding: 1px;
  background: linear-gradient(180deg,
    color-mix(in oklab, var(--brand) 50%, transparent),
    color-mix(in oklab, var(--cyan) 25%, transparent));
  -webkit-mask: linear-gradient(#000 0 0) content-box, linear-gradient(#000 0 0);
  -webkit-mask-composite: xor;
          mask-composite: exclude;    /* évide l'intérieur */
  pointer-events: none;
}

/* ------------------------------------------------------------------
   Onglets “pill”
------------------------------------------------------------------ */
.pill-tabs{ display:flex; gap:.5rem; flex-wrap:wrap; }
.pill-tab{
  padding: .54rem .9rem;
  border-radius: 9999px;
  border: 1px solid var(--panel-border);
  background: color-mix(in oklab, white 6%, transparent);
  transition: .2s ease;
  color: var(--text);
  font-weight: 600;
}
.pill-tab:hover{ background: color-mix(in oklab, white 10%, transparent); transform: translateY(-1px); }
.pill-tab[aria-selected="true"],
.pill-tab.is-active{
  background: color-mix(in oklab, var(--brand) 20%, transparent);
  border-color: color-mix(in oklab, var(--brand) 50%, transparent);
  box-shadow: inset 0 0 0 4px color-mix(in oklab, var(--brand) 10%, transparent);
}

/* ------------------------------------------------------------------
   Boutons
------------------------------------------------------------------ */
.btn{
  display: inline-flex; align-items: center; gap: .5rem;
  padding: .6rem 1rem;
  border-radius: .75rem;
  border: 1px solid var(--panel-border);
  background: color-mix(in oklab, white 6%, transparent);
  transition: .2s ease;
}
.btn:hover{ background: color-mix(in oklab, white 10%, transparent); transform: translateY(-1px); }

.btn-primary{
  background: linear-gradient(90deg, var(--brand), var(--brand2) 45%, var(--cyan));
  border-color: transparent;
  color: #fff;
  box-shadow: 0 10px 30px -12px color-mix(in oklab, var(--brand) 45%, transparent);
}
.btn-primary:hover{ filter: brightness(1.05); transform: translateY(-1px); }

.btn-ghost{
  background: transparent;
  border-color: var(--panel-border);
}

/* ------------------------------------------------------------------
   Chips / badges
------------------------------------------------------------------ */
.chip-live{
  display:inline-flex; align-items:center; gap:.35rem;
  background: #ef4444; color:#fff; font-weight: 700;
  font-size: .72rem; padding: .22rem .5rem; border-radius: .5rem;
  letter-spacing: .02em;
}

/* ------------------------------------------------------------------
   Graph / Recharts retouches (si utilisés)
------------------------------------------------------------------ */
.recharts-cartesian-grid-horizontal line,
.recharts-cartesian-grid-vertical line{
  stroke: rgba(255,255,255,.06) !important;
}
.recharts-line-curve,
.recharts-line path{
  stroke-linecap: round !important;
  stroke-linejoin: round !important;
}
.recharts-dot, .recharts-active-dot circle{
  filter: drop-shadow(0 0 8px color-mix(in oklab, var(--brand) 50%, transparent));
}

/* ------------------------------------------------------------------
   Embeds Twitch (fallback sombre quand iFrame bloquée)
------------------------------------------------------------------ */
.twitch-embed-dark{
  background: rgba(17,20,28,.88);
  border: 1px solid var(--panel-border);
  border-radius: .75rem;
}

/* ------------------------------------------------------------------
   Petits helpers
------------------------------------------------------------------ */
.shadow-glow{
  box-shadow: 0 0 30px color-mix(in oklab, var(--brand) 35%, transparent);
}
.text-gradient{
  background: linear-gradient(90deg, var(--brand), var(--cyan));
  -webkit-background-clip: text;
          background-clip: text;
  -webkit-text-fill-color: transparent;
}
